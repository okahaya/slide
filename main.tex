\documentclass[final,dvipdfmx,aspectratio=169]{beamer}

% Theme settings
\mode<presentation> {
  \usetheme{Marburg}
}

%--------------- Color definitions----------------------
%my-color
\definecolor{my-color}{RGB}{0,128,255} % 青
%\definecolor{my-color}{RGB}{120,100,210} % 紫
%\definecolor{my-color}{RGB}{80,200,220} % 緑
\definecolor{important}{RGB}{247,239,158} % 薄い黄色
\definecolor{important_font}{RGB}{255,0,0} % 赤
\definecolor{back}{RGB}{255,255,255} % 白
%\definecolor{back}{RGB}{245,245,245} % グレー

% Structure color
\setbeamercolor{structure}{fg=my-color}

% Background color settings
%\setbeamercolor{background canvas}{bg=my-color!20}
\setbeamercolor{background canvas}{bg=white}

% Sidebar color settings
\setbeamertemplate{sidebar canvas right}[vertical shading][top=my-color!40!black,bottom=my-color!80!black]

% Font and language settings
\usepackage{bxdpx-beamer}
\usepackage[japanese]{babel}
\usepackage{caption}
\usepackage{tikz}
\usepackage{bm} 
\usepackage{color}
\usepackage{ascmac}
\usepackage{optidef}
\usepackage{subcaption}
\usepackage{tcolorbox}
\usepackage{pagecolor}
\usepackage{colortbl}
\usepackage{array}
\usepackage{xcolor}
\tcbuselibrary{breakable, skins, theorems}
\usetikzlibrary{shapes.geometric, shapes.misc, positioning}

% Font encoding for bookmarks
\usepackage{pxjahyper}
\usepackage{atbegshi}
\ifnum 42146=\euc"A4A2 
  \AtBeginShipoutFirst{\special{pdf:tounicode EUC-UCS2}} 
\else
  \AtBeginShipoutFirst{\special{pdf:tounicode 90ms-RKSJ-UCS2}}
\fi

% Underline with color
\makeatletter
\newlength{\chwidth}%
\newcommand{\ulinej}[1]{%
  \@tfor\ch:=#1\do%a
  {\ch%
    \settowidth{\chwidth}{\ch}%
    \hspace{-\chwidth}%
    \underline{\vphantom{あ}\phantom{\ch}}%
  }%
}%
\makeatother
\newcommand{\coloruline}[2][black]{\textcolor{#1}{\ulinej{#2}}}

% Math and font settings
\mathversion{bold}
\usefonttheme{professionalfonts}
\usefonttheme[onlymath]{serif}
\renewcommand{\familydefault}{\sfdefault}
\renewcommand{\kanjifamilydefault}{\gtdefault}

% Caption settings
\captionsetup[figure]{name=図}
\captionsetup[table]{name=表}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{footline}[frame number]

% Graphics path
\graphicspath{{img/}}

% Remove navigation symbols
\setbeamertemplate{navigation symbols}{}

% Font size settings
\setbeamerfont{caption}{size=\normalsize}
\setbeamerfont{block title}{size=\LARGE}
\setbeamerfont*{itemize/enumerate body}{size=\large}
\setbeamerfont*{itemize/enumerate subbody}{parent=itemize/enumerate body, size=\normalsize}
\setbeamerfont*{itemize/enumerate subsubbody}{parent=itemize/enumerate subbody, size=\normalsize}

% Frame title color settings
\setbeamercolor{frametitle}{fg=white,bg=my-color!40!black}

% Block environment settings
\setbeamercolor{block body}{bg=back}
\setbeamercolor{bibliography entry author}{fg=black}
\setbeamercolor{bibliography entry journal}{fg=black}
\setbeamercolor{bibliography entry note}{fg=black}
\setbeamercolor{bibliography entry publisher}{fg=black}

% Bibliography formatting
\beamertemplatetextbibitems

\begin{document}
\input{slide_template.tex}
\end{document}
